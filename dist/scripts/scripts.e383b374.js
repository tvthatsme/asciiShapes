"use strict";angular.module("asciiApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}]);var asciiApp=angular.module("asciiApp").controller("MainCtrl",["$scope","SquareService","TriangleService","DiamondService","RectangleService",function(a,b,c,d,e){function f(){a.shape=a.shapeSelected.draw(a.shapeHeight,a.shapeLabel,a.labelRow)}var g=10,h="HI",i=4;a.shapes=[b,c,d,e],a.shapeSelected=b,a.shape=b.draw(g,h,i),a.shapeHeight=g,a.shapeLabel=h,a.shapeLabelMsg="",a.labelRow=i,a.labelRowMsg="",a.setHeight=function(b){1>b?b=1:b>100&&(b=100),a.labelRow>b?(a.labelRow=b,a.labelRowMsg="Adjusting label row to fit in shape."):a.labelRowMsg="",a.shapeHeight=b,f()},a.setLabel=function(b){b=b.toUpperCase(),b=b.trim(),a.shapeLabel=b,f()},a.setLabelRow=function(b){b>a.shapeHeight?(b=a.shapeHeight,a.labelRowMsg="Label Row cannot excede the shape height."):a.labelRowMsg="",1>b&&(b=1),a.labelRow=b,f()},a.selectShape=function(){f()}}]);asciiApp.factory("SquareService",function(){var a={};return a.name="Square",a.draw=function(a,b,c){var d,e="",f="X",g=" ",h="\n";for(b.length&&b.length%2!==a%2&&a>=b.length+2&&(b=g+b+g),d=1;a>=d;d++)if(b.length&&d===c){for(var i="",j=2*a-1,k=0;i.length<j;)k<b.length?(i+=k===b.length-1?b.substr(k,1):b.substr(k,1)+g,k++):i=i.substr(0,1)===g?f+i+f:g+i+g;i=i.substr(0,2*a-1),a>d&&(i+=h),e+=i}else for(var l=1;a>=l;l++)e+=l!==a?f+g:d===a?f:f+h;return e},a}),asciiApp.factory("TriangleService",function(){var a={};return a.name="Triangle",a.draw=function(a,b,c){var d,e,f="",g="X",h=" ",i=1,j="";for(d=1;a>=d;d++){for(e=0,j="",b.length&&d===c&&b.length%2!==i%2&&i>b.length+2&&(b=h+b+h);i>e;)b.length&&d===c?e<b.length?j+=e===b.length-1?b.substr(e,1):b.substr(e,1)+h:j=j.substr(0,1)===h?g+j+g:h+j+h:j+=g+h,e++;for(;a>e;)j=h+j,e++;for(;j.length<2*a-1;)j+=h;f+=j.substr(0,2*a-1),d!==a&&(f+="\n"),i++}return f},a}),asciiApp.factory("DiamondService",function(){var a={};return a.name="Diamond",a.draw=function(a,b,c){var d,e,f="",g="X",h=" ",i=1,j="";for(d=1;a>=d;d++){for(e=0,j="",b.length&&d===c&&b.length%2!==i%2&&i>b.length+2&&(b=h+b+h);i>e;)b.length&&d===c?e<b.length?j+=e===b.length-1?b.substr(e,1):b.substr(e,1)+h:j=j.substr(0,1)===h?g+j+g:h+j+h:j+=g+h,e++;if(a>e)for(;a/2>e;)j=h+j,e++;for(;j.length<a;)j+=h;f+=j.substring(0,a),d!==a&&(f+="\n"),a/2>d?i++:i--}return f},a}),asciiApp.factory("RectangleService",function(){var a={};return a.name="Rectangle",a.draw=function(a,b,c){var d="",e=Math.floor(1.5*a),f="X",g=" ",h="\n";b.length&&b.length%2!==e%2&&e>=b.length+2&&(b=g+b+g);for(var i=1;a>=i;i++)if(b.length&&i===c){for(var j="",k=2*e-1,l=0;j.length<k;)l<b.length?(j+=l===b.length-1?b.substr(l,1):b.substr(l,1)+g,l++):j=j.substr(0,1)===g?f+j+f:g+j+g;j=j.substr(0,2*e-1),a>i&&(j+=h),d+=j}else for(var m=1;e>=m;m++)d+=m!==e?f+" ":i===a?f:f+h;return d},a}),angular.module("asciiApp").run(["$templateCache",function(a){a.put("views/main.html",'<!-- app/views/main.html --> <form name="shapeForm"> <!-- dropdown select for shape type --> <label> Shape: <select ng-model="shapeSelected" ng-options="shape.name for shape in shapes" ng-change="selectShape()"></select> </label> <!-- height of shape --> <label> Height: <input type="number" name="height" ng-model="shapeHeight" ng-change="setHeight(shapeHeight)" required> <span class="error" ng-show="shapeForm.height.$error.required"> Shape height is required </span> </label> <!-- text box for label in shape --> <label> Label: <input type="text" ng-model="shapeLabel" ng-change="setLabel(shapeLabel)"> <span class="error" ng-show="shapeLabelMsg.length > 0"> {{ shapeLabelMsg }} </span> </label> <!-- row to display the label on --> <label id="labelRow" ng-show="shapeLabel.length > 0"> Label Row: <input type="number" name="labelRow" ng-model="labelRow" ng-change="setLabelRow(labelRow)" required> <span class="error" ng-show="labelRowMsg.length > 0"> {{ labelRowMsg }} </span> </label> </form> <!-- area for asii shape --> <pre class="shape">{{ shape }}</pre>')}]);