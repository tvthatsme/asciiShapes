"use strict";angular.module("asciiApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]);var asciiApp=angular.module("asciiApp").controller("MainCtrl",["$scope","SquareService","TriangleService","DiamondService","RectangleService",function(a,b,c,d,e){function f(){a.shape=a.shapeSelected.draw(a.shapeHeight,a.shapeLabel,a.labelRow)}var g=10,h="HI",i=4;a.shapes=[b,c,d,e],a.shapeSelected=b,a.shape=b.draw(g,h,i),a.shapeHeight=g,a.shapeHeightMsg="",a.shapeLabel=h,a.labelRow=i,a.labelRowMsg="",a.setHeight=function(b){1>b?(a.shapeHeightMsg="Height must be greater than 0.",b=1):b>100?(a.shapeHeightMsg="Height must be equal or less than 100.",b=100):a.shapeHeightMsg="",a.labelRow>b?(a.labelRow=b,a.labelRowMsg="Adjusting label row to fit in shape."):a.labelRowMsg="",a.shapeHeight=b,f()},a.setLabel=function(b){b=b.toUpperCase(),b=b.trim(),a.shapeLabel=b,f()},a.setLabelRow=function(b){b>a.shapeHeight?(a.labelRowMsg="Label Row cannot excede the shape height.",b=a.shapeHeight):a.labelRowMsg="",1>b&&(b=1,a.labelRowMsg="Label Row cannot be less than 1."),a.labelRow=b,f()},a.selectShape=function(){f()}}]);asciiApp.factory("SquareService",function(){var a={};return a.name="Square",a.draw=function(a,b,c){var d,e="",f="X",g=" ",h="\n";for(b.length&&b.length%2!==a%2&&a>=b.length+2&&(b=g+b+g),d=1;a>=d;d++)if(b.length&&d===c){for(var i="",j=2*a-1,k=0;i.length<j;)k<b.length?(i+=k===b.length-1?b.substr(k,1):b.substr(k,1)+g,k++):i=i.substr(0,1)===g?f+i+f:g+i+g;i=i.substr(0,2*a-1),a>d&&(i+=h),e+=i}else for(var l=1;a>=l;l++)e+=l!==a?f+g:d===a?f:f+h;return e},a}),asciiApp.factory("TriangleService",function(){var a={};return a.name="Triangle",a.draw=function(a,b,c){var d,e,f="",g="X",h=" ",i="\n",j=1,k="";for(d=1;a>=d;d++){for(e=0,k="",b.length&&d===c&&b.length%2!==j%2&&j>b.length+2&&(b=h+b+h);j>e;)b.length&&d===c?e<b.length?k+=e===b.length-1?b.substr(e,1):b.substr(e,1)+h:k=k.substr(0,1)===h?g+k+g:h+k+h:k+=g+h,e++;for(;a>e;)k=h+k,e++;for(;k.length<2*a-1;)k+=h;f+=k.substr(0,2*a-1),d!==a&&(f+=i),j++}return f},a}),asciiApp.factory("DiamondService",function(){var a={};return a.name="Diamond",a.draw=function(a,b,c){var d,e,f="",g="X",h=" ",i="\n",j=1,k="";for(d=1;a>=d;d++){for(e=0,k="",b.length&&d===c&&b.length%2!==j%2&&j>b.length+2&&(b=h+b+h);j>e;)b.length&&d===c?e<b.length?k+=e===b.length-1?b.substr(e,1):b.substr(e,1)+h:k=k.substr(0,1)===h?g+k+g:h+k+h:k+=g+h,e++;if(a>e)for(;a/2>e;)k=h+k,e++;for(;k.length<a;)k+=h;f+=k.substring(0,a),d!==a&&(f+=i),a/2>d?j++:j--}return f},a}),asciiApp.factory("RectangleService",function(){var a={};return a.name="Rectangle",a.draw=function(a,b,c){var d,e="",f=Math.floor(1.5*a),g="X",h=" ",i="\n";for(b.length&&b.length%2!==f%2&&f>=b.length+2&&(b=h+b+h),d=1;a>=d;d++)if(b.length&&d===c){for(var j="",k=2*f-1,l=0;j.length<k;)l<b.length?(j+=l===b.length-1?b.substr(l,1):b.substr(l,1)+h,l++):j=j.substr(0,1)===h?g+j+g:h+j+h;j=j.substr(0,2*f-1),a>d&&(j+=i),e+=j}else for(var m=1;f>=m;m++)e+=m!==f?g+h:d===a?g:g+i;return e},a}),angular.module("asciiApp").run(["$templateCache",function(a){a.put("views/main.html",'<!-- app/views/main.html --><!-- form for the creation of an ascii shape --> <form name="shapeForm"> <!-- dropdown select for shape type --> <label> Shape: <select ng-model="shapeSelected" ng-options="shape.name for shape in shapes" ng-change="selectShape()"></select> </label> <!-- height of shape --> <label> Height: <input type="number" name="height" ng-model="shapeHeight" ng-change="setHeight(shapeHeight)" required> <span class="error" ng-show="shapeForm.height.$error.required"> <i class="fa fa-exclamation-triangle"></i> Shape height is required. </span> <span class="error" ng-show="shapeHeightMsg.length > 0"> <i class="fa fa-exclamation-triangle"></i> {{ shapeHeightMsg }} </span> </label> <!-- text box for label in shape --> <label> Label: <input type="text" ng-model="shapeLabel" ng-change="setLabel(shapeLabel)"> <span class="error" ng-show="shapeLabelMsg.length > 0"> </span> </label> <!-- row to display the label on --> <label id="labelRow" ng-show="shapeLabel.length > 0"> Label Row: <input type="number" name="labelRow" ng-model="labelRow" ng-change="setLabelRow(labelRow)" required> <span class="error" ng-show="labelRowMsg.length > 0"> <i class="fa fa-exclamation-triangle"></i> {{ labelRowMsg }} </span> </label> </form> <!-- area for asii shape --> <pre class="shape">{{ shape }}</pre>')}]);